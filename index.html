<!DOCTYPE html>
<html>
  <head>
    <title>bg.uhm</title>
    <link rel="icon" href="system/images/bguhm.png" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/themes.css" />
    <meta name="author" content="jouyuss by waterl3mon" />
    <meta name="keywords" content="fun, stratagem, github, waterlemon" />
    <script src="javascript/main.js" defer></script>

    <style>
      /* Loading screen */
      .preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #000;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        z-index: 1000;
      }
      .hidden {
        display: none;
      }

      .preloader img {
        width: 128px; /* scale up */
        height: 128px; /* keep square */
        image-rendering: pixelated; /* no anti-aliasing */
        image-rendering: crisp-edges;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="nav-links">
        <a href="system/pages/home.html">Home</a>
        <a href="system/pages/favorite.html">Favorites</a>
        <a href="system/pages/discover.html">Discovery</a>
        <a href="system/pages/settings.html">Settings</a>
        <a href="system/pages/support.html">Support</a>
        <a href="system/pages/info.html">Info</a>
      </div>

      <div class="search-box">
        <input type="text" id="searchInputHeader" placeholder="Search games..." />
        <button id="searchBtnHeader">üîç</button>
      </div>

      <script>
        function filterGames(query) {
          const input = query.toLowerCase();
          const games = document.querySelectorAll("#container > div");

          games.forEach((game) => {
            const title = game.querySelector("h3")?.textContent.toLowerCase() || "";
            const author = game.querySelector("p")?.textContent.toLowerCase() || "";
            game.style.display = title.includes(input) || author.includes(input) ? "block" : "none";
          });
        }

        // live search while typing
        document.getElementById("searchInputHeader").addEventListener("keyup", function () {
          filterGames(this.value);
        });

        // search when clicking button
        document.getElementById("searchBtnHeader").addEventListener("click", function () {
          const query = document.getElementById("searchInputHeader").value;
          filterGames(query);
        });
      </script>

      <img src="dashboard.png" alt="Dashboard" id="dashboardBtn" />
    </header>

    <marquee id="quote" behavior="scroll" direction="left" scrollamount="5">
      76 projects will be on this website on full release, sorry for it not working for a few days T-T
    </marquee>

    <main>
      <div id="container"> 
        
        <div class="ok">
      <a href="games/firered/index.html">
        <img src="library/images/firered.png" alt="Pok√©mon FireRed thumbnail" />
        <h3>Pok√©mon FireRed</h3>
        <p>Game Boy Advance</p>
      </a>
    </div>
        
      </div>
    </main>

    <button id="toTopBtn">‚¨Ü Top</button>
    <footer>
      <a href="system/pages/sources.html">sources</a>
      <a href="system/pages/contributors.html">contribute</a>
      <a href="system/pages/discord.html">Discord</a>
      <a href="system/pages/bugsNfixes.html">Bugs & fixes</a>
      <a href="system/pages/contact.html">Socials</a>
      <a href="system/pages/version-log.html">version V0.0.5</a>
    </footer>

    <div id="dashboardMenu" class="dashboard-menu">
      <a href="system/pages/pages.html">Music</a>
      <a href="system/pages/settings.html">Themes</a>
      <a href="system/pages/info.html">Credits</a>
      <a href="system/pages/support.html">Alternative Links</a>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const dashboardBtn = document.getElementById("dashboardBtn");
        const dashboardMenu = document.getElementById("dashboardMenu");

        dashboardBtn.onclick = function () {
          dashboardMenu.style.display = dashboardMenu.style.display === "flex" ? "none" : "flex";
        };

        // Close if clicked outside
        window.addEventListener("click", function (e) {
          if (!dashboardBtn.contains(e.target) && !dashboardMenu.contains(e.target)) {
            dashboardMenu.style.display = "none";
          }
        });
      });
    </script>

    <script>
      const toTopBtn = document.getElementById("toTopBtn");

      // Show button when scrolled down 200px
      window.onscroll = function () {
        if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 200) {
          toTopBtn.style.display = "block";
        } else {
          toTopBtn.style.display = "none";
        }
      };

      // Scroll smoothly to top on click
      toTopBtn.onclick = function () {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      };
    </script>

    <script>
      // Prevent browser from restoring old scroll position
      if ("scrollRestoration" in history) {
        history.scrollRestoration = "manual";
      }

      // Delay scroll-to-top when page loads
      window.onload = function () {
        setTimeout(() => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        }, 3000);
      };

      // double click to start it
      toTopBtn.addEventListener("dblclick", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    </script>
  </body>
</html>
